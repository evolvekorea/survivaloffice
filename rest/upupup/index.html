<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탈출의 계단</title>
    <meta name="description" content="직장을 탈출하기 위한 직장인의 고군분투">

    <!-- 소셜 공유 시 깔끔한 미리보기 -->
    <meta property="og:title" content="탈출의 계단 게임" />
    <meta property="og:description" content="계단을 올라 회사를 탈출하자" />
    <meta property="og:url" content="https://www.survivaloffice.com/rest/upupup" />
    <meta property="og:image" content="https://www.survivaloffice.com/images/upupup.jpg" />
    <meta property="og:type" content="website" />    

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
</head>
<body>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCK4Zdkhlc0cnjqC3TpmUJmLAt8Xrh8VOw",
        authDomain: "upupup-e4c2c.firebaseapp.com",
        projectId: "upupup-e4c2c",
        storageBucket: "upupup-e4c2c.appspot.com",
        messagingSenderId: "877963060151",
        appId: "1:877963060151:web:e70751cb30638880767e32"
    };
        // Firebase 초기화
        const app = initializeApp(firebaseConfig);
        console.log("Firebase 초기화 완료");

        // Firestore 초기화
        const db = getFirestore(app);
        console.log("Firestore 초기화 완료");

        // `firebase`와 Firestore 인스턴스를 전역 객체로 등록
        window.firebaseApp = app;
        window.firebaseDB = db;
    </script>   

    <div id="game-container">
        <!-- 배경 요소 추가 -->
        <div id="background"></div>
                
        <!-- 시작 화면 -->
        <div id="start-screen">
            <h1 id="start-title">탈 출 의 계 단</h1>
            <img id="start-btn" src="https://www.survivaloffice.com/images/start.png">
        </div>

        <!-- 게임 화면 -->
        <div id="score">점수: <span id="score-value">0</span></div>
        <div id="timer">남은 시간: <span id="time">100</span>초</div>
        <div id="character"></div>
        <div id="stairs-container"></div>
        <div id="buttons">
            <button id="left-btn">←</button>
            <button id="right-btn">→</button>
        </div>

        <!-- 결과 팝업 -->
        <div id="result-popup">
            <h2>게임 종료</h2>
            <p id="result-message">축하합니다. 자유입니다.</p>
            <input type="text" id="nicknameInput" placeholder="닉네임 입력" />
            <button id="saveScoreButton">점수 등록</button>
            <button id="closePopupButton">닫기</button>
        </div>
    </div>
    
<!-- Firebase SDK v8 사용 -->
<script type="module" src="script.js" defer></script>
</body>
</html>

