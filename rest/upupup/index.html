<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탈출의 계단</title>
    <meta name="description" content="직장을 탈출하기 위한 직장인의 고군분투">
    <meta name="keywords" content="탈출의 계단, 무한의 계단, 미니게임, 경쟁, 파이어족, 계단게임">

    <!-- Google Adsense 코드 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4957586937754537"
    crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-4957586937754537">    

    <!-- Google Analytics 코드 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G4TPWGLYLY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-G4TPWGLYLY');
    </script>    

    <!-- 소셜 공유 시 깔끔한 미리보기 -->
    <meta property="og:title" content="탈출의 계단" />
    <meta property="og:description" content="계단을 올라 회사를 탈출하자" />
    <meta property="og:url" content="https://www.survivaloffice.com/rest/upupup" />
    <meta property="og:image" content="https://www.survivaloffice.com/images/upupup.jpg" />
    <meta property="og:type" content="website" />    

    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
</head>

<body oncontextmenu="return false">
    
    <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/rest/">미니게임</a></li>
          <li><a href="/work/">생존키트</a></li>
          <li><a href="/test/">테스트</a></li>
        </ul>
    </nav>   

    <!-- 상단 광고 -->
    <div class="ad-container">
        <ins class="adsbygoogle"
            style="display:block; min-height: 90px;"
            data-ad-client="ca-pub-4957586937754537"
            data-ad-slot="9240598215"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
    </div>

    <main>
        <div id="game-container">
            <!-- 배경 요소 추가 -->
            <div id="background"></div>

            <!-- 시작 화면 -->
            <div id="start-screen">
                <button id="help-btn" onclick="window.open('https://nowfeed.co.kr/%ec%84%9c%eb%b0%94%ec%9d%b4%eb%b2%8c%ec%98%a4%ed%94%bc%ec%8a%a4-%eb%af%b8%eb%8b%88%ea%b2%8c%ec%9e%84-%ed%85%8c%ec%8a%a4%ed%8a%b8-%eb%a7%a4%eb%89%b4%ec%96%bc/', '_blank')">
                    게임 방법
                </button>
                <h1 id="start-title">탈 출 의 계 단</h1>
                <img id="start-btn" src="https://www.survivaloffice.com/images/start.png">
                <button id="top10-rank">랭킹 보기</button>
                <div id="ranking-container" style="display: none;"></div>

            </div>

            <!-- 게임 화면 -->
            <div id="score">점수: <span id="score-value">0</span></div>
            <div id="timer">남은 시간: <span id="time">100</span>초</div>
            <div id="character"></div>
            <div id="stairs-container"></div>
            <div id="buttons">
                <button id="left-btn">←</button>
                <button id="right-btn">→</button>
            </div>

            <!-- 결과 팝업 -->
            <div id="result-popup">
                <h2>게임 종료</h2>
                <p id="result-message">축하합니다. 자유입니다.</p>
                <input type="text" id="nicknameInput" placeholder="닉네임 입력" />
                <button id="saveScoreButton" type="button">점수 등록</button>
                <button id="closePopupButton" type="button">다시 하기</button>
            </div>

            <!-- 랭킹 컨테이너 -->
            <div id="ranking-container" class="ranking-popup">
                <h2>Top 10 랭킹</h2>
                <div id="ranking-list"></div>
            </div>
        </div>
    </main>

    <!-- 하단 광고 -->
    <div class="footer-ad-container">
        <ins class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-4957586937754537"
            data-ad-slot="9931828353"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        </div>

<script type="module" src="script.js" defer></script>

        <!-- 광고 실행 코드 (페이지 로딩 후 한 번만 실행) -->
        <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("애드센스 광고 로드 실행");

            try {
                // 상단 광고만 push
                (adsbygoogle = window.adsbygoogle || []).push({});
                
                // 하단 광고는 DOM에 충분히 렌더링된 후 push
                window.addEventListener("load", () => {
                    console.log("하단 광고 로드 실행");
                    (adsbygoogle = window.adsbygoogle || []).push({});
                });
            } catch (e) {
                console.error("애드센스 광고 로드 실패:", e);
            }
        });
        </script>   

        <script src="https://ads-partners.coupang.com/g.js"></script>
        <script>
            new PartnersCoupang.G({"id":810614,"trackingCode":"AF4453761","subId":null,"template":"carousel","width":"360","height":"100"});
        </script>    
        
</body>
</html>

