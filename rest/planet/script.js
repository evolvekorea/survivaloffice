const _0x5d8d57=_0x4897;(function(_0x18d80c,_0x530a2b){const _0x24c5db=_0x4897,_0xfbd33e=_0x18d80c();while(!![]){try{const _0x4feef1=-parseInt(_0x24c5db(0x135))/0x1+parseInt(_0x24c5db(0x12b))/0x2+parseInt(_0x24c5db(0x7e))/0x3*(-parseInt(_0x24c5db(0x11b))/0x4)+parseInt(_0x24c5db(0xb4))/0x5*(parseInt(_0x24c5db(0xdc))/0x6)+parseInt(_0x24c5db(0x119))/0x7+parseInt(_0x24c5db(0x96))/0x8+parseInt(_0x24c5db(0x112))/0x9;if(_0x4feef1===_0x530a2b)break;else _0xfbd33e['push'](_0xfbd33e['shift']());}catch(_0x12f99a){_0xfbd33e['push'](_0xfbd33e['shift']());}}}(_0x51be,0x18c92));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js';import{getFirestore,collection,query,where,getDocs,addDoc,updateDoc,doc,orderBy,limit}from'https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js';const firebaseConfig={'apiKey':_0x5d8d57(0x109),'authDomain':_0x5d8d57(0x7f),'projectId':_0x5d8d57(0xaf),'storageBucket':_0x5d8d57(0x10e),'messagingSenderId':'877963060151','appId':_0x5d8d57(0x12d)},app=initializeApp(firebaseConfig),db=getFirestore(app),loadingMessage=document['getElementById']('loading-message'),startButton=document[_0x5d8d57(0xe4)](_0x5d8d57(0x86)),startScreen=document[_0x5d8d57(0xe4)](_0x5d8d57(0xff)),planetArea=document[_0x5d8d57(0xe4)](_0x5d8d57(0xa0)),gameImages=[_0x5d8d57(0xc4),_0x5d8d57(0xd8),_0x5d8d57(0x7d),'https://www.survivaloffice.com/images/4.png',_0x5d8d57(0x110),'https://www.survivaloffice.com/images/6.png',_0x5d8d57(0x100),_0x5d8d57(0xc5),_0x5d8d57(0xed),_0x5d8d57(0x11a),'https://www.survivaloffice.com/images/LRLR.png'];function preloadImages(_0x556b17,_0x353e25){const _0x3d9c20=_0x5d8d57;let _0x493292=0x0;const _0x2b6ad2=_0x556b17['length'];_0x556b17[_0x3d9c20(0xd2)](_0xb00307=>{const _0x3c18b7=_0x3d9c20,_0x383ce3=new Image();_0x383ce3[_0x3c18b7(0xfc)]=_0xb00307,_0x383ce3['onload']=()=>{const _0x510be5=_0x3c18b7;_0x493292++,loadingMessage[_0x510be5(0x12e)]=_0x510be5(0xb1)+_0x493292+'/'+_0x2b6ad2+')',_0x493292===_0x2b6ad2&&_0x353e25();},_0x383ce3[_0x3c18b7(0x90)]=()=>console[_0x3c18b7(0xa2)]('ì´ë¯¸ì§€\x20ë¡œë“œ\x20ì‹¤íŒ¨:\x20'+_0xb00307);});}preloadImages([_0x5d8d57(0xc4),_0x5d8d57(0xd8),_0x5d8d57(0x7d),_0x5d8d57(0x130),'https://www.survivaloffice.com/images/5.png','https://www.survivaloffice.com/images/6.png',_0x5d8d57(0x100),_0x5d8d57(0xc5),_0x5d8d57(0xed),_0x5d8d57(0x11a),_0x5d8d57(0x8e)],()=>{const _0x3bccfe=_0x5d8d57;console[_0x3bccfe(0xfb)](_0x3bccfe(0xa4)),loadingMessage[_0x3bccfe(0x12e)]='',startButton[_0x3bccfe(0x94)][_0x3bccfe(0x136)]=_0x3bccfe(0xf9);});let isGameStarted=![];startButton[_0x5d8d57(0x9c)](_0x5d8d57(0xbe),_0x46184f=>{const _0x25efe3=_0x5d8d57;_0x46184f[_0x25efe3(0x98)](),isGameStarted=!![],startScreen[_0x25efe3(0x94)][_0x25efe3(0x136)]=_0x25efe3(0x8d),planetArea[_0x25efe3(0x94)][_0x25efe3(0x136)]=_0x25efe3(0xf9),console[_0x25efe3(0xfb)]('ê²Œì„\x20ì‹œì‘!');});const pl=planck,Vec2=pl[_0x5d8d57(0x93)],world=pl['World'](Vec2(0x0,-0xa)),canvas=document['createElement'](_0x5d8d57(0xb3)),ctx=canvas[_0x5d8d57(0x116)]('2d');planetArea[_0x5d8d57(0xa8)](canvas),canvas[_0x5d8d57(0x117)]=0x168,canvas[_0x5d8d57(0x99)]=0x1c2;const planets=[{'name':_0x5d8d57(0xb0),'url':'https://survivaloffice.com/images/1.png','score':0xa,'baseSize':0.1},{'name':'ìˆ˜ì„±','url':_0x5d8d57(0xc7),'score':0x14,'baseSize':0.12},{'name':'í™”ì„±','url':_0x5d8d57(0x103),'score':0x28,'baseSize':0.2},{'name':'ê¸ˆì„±','url':_0x5d8d57(0x12c),'score':0x50,'baseSize':0.22},{'name':'ì§€êµ¬','url':_0x5d8d57(0xa9),'score':0x78,'baseSize':0.3},{'name':'ì²œì™•ì„±','url':_0x5d8d57(0xa1),'score':0xc8,'baseSize':0.35},{'name':_0x5d8d57(0xd0),'url':_0x5d8d57(0xf8),'score':0x190,'baseSize':0.41},{'name':'í† ì„±','url':_0x5d8d57(0x102),'score':0x258,'baseSize':0.47},{'name':'ëª©ì„±','url':_0x5d8d57(0x9f),'score':0x3e8,'baseSize':0.52},{'name':'íƒœì–‘','url':_0x5d8d57(0xd3),'score':0x7d0,'baseSize':0.65}],top10RankButton=document[_0x5d8d57(0xe4)](_0x5d8d57(0x107)),rankingContainer=document[_0x5d8d57(0xe4)]('ranking-container');top10RankButton&&rankingContainer?top10RankButton[_0x5d8d57(0x9c)]('click',async()=>{const _0x31c368=_0x5d8d57;console[_0x31c368(0xfb)]('ë­í‚¹\x20ë³´ê¸°\x20ë²„íŠ¼\x20í´ë¦­ë¨'),rankingContainer[_0x31c368(0x94)]['display']=_0x31c368(0xf9),rankingContainer[_0x31c368(0xe5)]=_0x31c368(0xce),await loadTop10Rankings(),await loadAllTimeHighScore();}):console[_0x5d8d57(0xa2)](_0x5d8d57(0xf0));async function loadTop10Rankings(){const _0x2aa283=_0x5d8d57,_0x292e7d=collection(db,_0x2aa283(0xe3)),{startDate:_0x3870d3,endDate:_0x3ce08b}=getCurrentWeekRange();console['log'](_0x2aa283(0x11f),_0x3870d3),console[_0x2aa283(0xfb)]('End\x20Date:',_0x3ce08b);const _0xd3abd4=query(_0x292e7d,where(_0x2aa283(0xe0),'>=',_0x3870d3),where(_0x2aa283(0xe0),'<=',_0x3ce08b),orderBy(_0x2aa283(0xd4),'desc'),orderBy(_0x2aa283(0xe0),'desc'),limit(0xa)),_0x54004c=await getDocs(_0xd3abd4);console['log'](_0x2aa283(0xb8),_0x54004c['size']),_0x54004c[_0x2aa283(0xd2)](_0x81dbba=>{console['log'](_0x81dbba['data']());});try{const _0x259e80=await getDocs(_0xd3abd4);if(_0x259e80[_0x2aa283(0xc6)]){rankingContainer[_0x2aa283(0xe5)]=_0x2aa283(0x92);return;}let _0x10fce2=_0x2aa283(0xbc),_0x49d71a=0x1;_0x259e80[_0x2aa283(0xd2)](_0x1d283f=>{const _0x469e0e=_0x2aa283,_0x1b4da4=_0x1d283f[_0x469e0e(0xfa)](),_0xc2ca3b=_0x1b4da4[_0x469e0e(0x87)]||_0x469e0e(0xb7),_0x18f639=_0x1b4da4[_0x469e0e(0xd4)]||0x0;let _0x4b6970;typeof _0x1b4da4[_0x469e0e(0xe0)]===_0x469e0e(0xb6)?_0x4b6970=_0x1b4da4['date'][_0x469e0e(0xd1)](0x0,0xa):_0x4b6970=_0x469e0e(0x7b);let _0x4804e0='';if(_0x49d71a===0x1)_0x4804e0='ğŸ¥‡';else{if(_0x49d71a===0x2)_0x4804e0='ğŸ¥ˆ';else{if(_0x49d71a===0x3)_0x4804e0='ğŸ¥‰';}}_0x10fce2+='<li\x20class=\x22ranking-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4804e0+'\x20'+_0x49d71a+_0x469e0e(0xbb)+_0xc2ca3b+',\x20'+_0x18f639+'ì \x20<span\x20class=\x22date\x22>'+_0x4b6970+_0x469e0e(0x10f),_0x49d71a++;}),_0x10fce2+=_0x2aa283(0xef),console[_0x2aa283(0xfb)](_0x2aa283(0x123),rankingContainer[_0x2aa283(0xe5)]),rankingContainer[_0x2aa283(0xe5)]=_0x10fce2,console['log'](_0x2aa283(0x125),rankingContainer[_0x2aa283(0xe5)]);const _0x5eed56=document[_0x2aa283(0xe6)](_0x2aa283(0xf6));_0x5eed56['forEach']((_0x4e17cd,_0x2c1013)=>{const _0x73bdb7=_0x2aa283;_0x4e17cd[_0x73bdb7(0x94)]['animationDelay']=_0x2c1013*0.5+'s';});}catch(_0x5886da){console[_0x2aa283(0xa2)](_0x2aa283(0xee),_0x5886da),rankingContainer['innerHTML']=_0x2aa283(0x9a);}}function getCurrentWeekRange(){const _0x39c170=_0x5d8d57,_0x3ebbc8=new Date(),_0x22ac9a=_0x3ebbc8[_0x39c170(0xcd)]();console['log']('í˜„ì¬\x20ë‚ ì§œ:\x20'+_0x3ebbc8),console[_0x39c170(0xfb)](_0x39c170(0xa3)+_0x22ac9a);const _0x5ce8cb=_0x22ac9a===0x0?-0x6:0x1-_0x22ac9a;console[_0x39c170(0xfb)](_0x39c170(0x7c)+_0x5ce8cb);const _0x3f71e1=new Date(_0x3ebbc8);_0x3f71e1[_0x39c170(0x89)](_0x3ebbc8['getDate']()+_0x5ce8cb),_0x3f71e1['setHours'](0x0,0x0,0x0,0x0),console['log'](_0x39c170(0x124)+_0x3f71e1);const _0x370e83=new Date(_0x3f71e1);_0x370e83[_0x39c170(0x89)](_0x3f71e1['getDate']()+0x6),_0x370e83[_0x39c170(0xdf)](0x17,0x3b,0x3b,0x3e7),console[_0x39c170(0xfb)](_0x39c170(0xbf)+_0x370e83);const _0x4de734=_0x3f71e1[_0x39c170(0x118)]()+'-'+String(_0x3f71e1['getMonth']()+0x1)[_0x39c170(0x134)](0x2,'0')+'-'+String(_0x3f71e1['getDate']())[_0x39c170(0x134)](0x2,'0'),_0x3a2938=_0x370e83[_0x39c170(0x118)]()+'-'+String(_0x370e83[_0x39c170(0xd6)]()+0x1)[_0x39c170(0x134)](0x2,'0')+'-'+String(_0x370e83['getDate']())[_0x39c170(0x134)](0x2,'0');return console[_0x39c170(0xfb)](_0x39c170(0x105)+_0x4de734+_0x39c170(0x8c)+_0x3a2938),{'startDate':_0x4de734,'endDate':_0x3a2938};}async function loadAllTimeHighScore(){const _0x5d7b7b=_0x5d8d57,_0xabbb56=collection(db,_0x5d7b7b(0xe3)),_0x2a2a0a=query(_0xabbb56,orderBy(_0x5d7b7b(0xd4),_0x5d7b7b(0x82)),limit(0x1));try{const _0x3bdbb4=await getDocs(_0x2a2a0a);if(_0x3bdbb4[_0x5d7b7b(0xc6)]){rankingContainer['innerHTML']+=_0x5d7b7b(0xc9);return;}let _0x2f6947='<h2>ğŸ†ì—­ëŒ€\x20ìµœê³ \x20ê¸°ë¡ğŸ†</h2>';_0x3bdbb4['forEach'](_0x81af0=>{const _0x39ed9d=_0x5d7b7b,_0x28ecbc=_0x81af0[_0x39ed9d(0xfa)](),_0x7ed966=_0x28ecbc[_0x39ed9d(0x87)]||_0x39ed9d(0xb7),_0x8a7263=_0x28ecbc[_0x39ed9d(0xd4)]||0x0;let _0x196fab;if(_0x28ecbc[_0x39ed9d(0xe0)]&&typeof _0x28ecbc['date'][_0x39ed9d(0x7a)]===_0x39ed9d(0x10d)){const _0xa5c778=_0x28ecbc[_0x39ed9d(0xe0)][_0x39ed9d(0x7a)](),_0x2bccd7=_0xa5c778[_0x39ed9d(0x118)](),_0x208994=String(_0xa5c778[_0x39ed9d(0xd6)]()+0x1)[_0x39ed9d(0x134)](0x2,'0'),_0xde1e5e=String(_0xa5c778['getDate']())[_0x39ed9d(0x134)](0x2,'0');_0x196fab=_0x2bccd7+'-'+_0x208994+'-'+_0xde1e5e;}else typeof _0x28ecbc[_0x39ed9d(0xe0)]===_0x39ed9d(0xb6)?_0x196fab=_0x28ecbc[_0x39ed9d(0xe0)][_0x39ed9d(0xd1)](0x0,0xa):_0x196fab=_0x39ed9d(0x7b);_0x2f6947+=_0x39ed9d(0x113)+_0x7ed966+_0x39ed9d(0xf4)+_0x8a7263+_0x39ed9d(0x11d)+_0x196fab+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),rankingContainer[_0x5d7b7b(0xe5)]+=_0x2f6947;}catch(_0x28aa8d){console[_0x5d7b7b(0xa2)](_0x5d7b7b(0xe9),_0x28aa8d),rankingContainer[_0x5d7b7b(0xe5)]+=_0x5d7b7b(0xae);}}rankingContainer?rankingContainer[_0x5d8d57(0x9c)]('click',()=>{const _0x4a687a=_0x5d8d57;rankingContainer['style'][_0x4a687a(0x136)]=_0x4a687a(0x8d);}):console[_0x5d8d57(0xa2)]('ranking-container\x20ìš”ì†Œë¥¼\x20ì°¾ì„\x20ìˆ˜\x20ì—†ìŠµë‹ˆë‹¤.');async function saveScore(_0x17e7e7,_0x2be8b6){const _0x31f17c=_0x5d8d57;console['log'](_0x31f17c(0x133),_0x17e7e7,_0x2be8b6);const _0x84132e=new Date(),_0x4604d2=0x9*0x3c*0x3c*0x3e8,_0x1dcaaa=new Date(_0x84132e[_0x31f17c(0xf7)]()+_0x4604d2),_0x50f503=_0x1dcaaa[_0x31f17c(0xd7)]()['split']('T')[0x0],_0x423841=collection(db,_0x31f17c(0xe3));try{console[_0x31f17c(0xfb)](_0x31f17c(0xc1)),await addDoc(_0x423841,{'nickname':_0x17e7e7||_0x31f17c(0xb7),'score':_0x2be8b6,'date':_0x50f503}),alert(_0x31f17c(0x11c));}catch(_0x2f7be0){console[_0x31f17c(0xa2)](_0x31f17c(0xfe),_0x2f7be0),alert(_0x31f17c(0xde));};}document[_0x5d8d57(0xe4)]('closePopupButton')[_0x5d8d57(0x9c)](_0x5d8d57(0xbe),()=>{const _0x2f1deb=_0x5d8d57;console[_0x2f1deb(0xfb)](_0x2f1deb(0x101)),resetGame();});function _0x51be(){const _0x3386b2=['https://www.survivaloffice.com/images/8.png','empty','https://survivaloffice.com/images/2.png','createElement','<h3>ìµœê³ \x20ì ìˆ˜\x20ë°ì´í„°ê°€\x20ì—†ìŠµë‹ˆë‹¤.</h3>','resize','clientHeight','setLinearVelocity','getDay','<p>ë¡œë”©\x20ì¤‘...</p>','50px','í•´ì™•ì„±','slice','forEach','https://survivaloffice.com/images/10.png','score','nicknameInput','getMonth','toISOString','https://www.survivaloffice.com/images/2.png','name','rotate','drawImage','192294zMAWnu','createFixture','ì ìˆ˜\x20ì €ì¥\x20ì¤‘\x20ì˜¤ë¥˜ê°€\x20ë°œìƒí–ˆìŠµë‹ˆë‹¤.','setHours','date','random','getWorldCenter','planet','getElementById','innerHTML','querySelectorAll','lineWidth','fillStyle','Firestoreì—ì„œ\x20ìµœê³ \x20ì ìˆ˜\x20ë°ì´í„°ë¥¼\x20ê°€ì ¸ì˜¤ëŠ”\x20ì¤‘\x20ì˜¤ë¥˜\x20ë°œìƒ:','splice','shift','Score:\x20','https://www.survivaloffice.com/images/9.png','Firestoreì—ì„œ\x20ë­í‚¹\x20ë°ì´í„°ë¥¼\x20ê°€ì ¸ì˜¤ëŠ”\x20ì¤‘\x20ì˜¤ë¥˜\x20ë°œìƒ:','</ul><h4\x20style=\x22color:\x20red;\x22>ğŸ“¢\x20ë­í‚¹ì€\x20ë§¤ì£¼\x20ì›”ìš”ì¼\x20ì´ˆê¸°í™”ë©ë‹ˆë‹¤.</h4>','top10-rank\x20ë²„íŠ¼\x20ë˜ëŠ”\x20ranking-container\x20ìš”ì†Œë¥¼\x20ì°¾ì„\x20ìˆ˜\x20ì—†ìŠµë‹ˆë‹¤.','Failed\x20to\x20load\x20fallback\x20image:\x20','m_tolerance','radius',',\x20\x20','.\x20Using\x20fallback\x20image.','.ranking-item','getTime','https://survivaloffice.com/images/7.png','block','data','log','src','walls','Error\x20adding\x20data:','start-screen','https://www.survivaloffice.com/images/7.png','ë‹«ê¸°\x20ë²„íŠ¼\x20í´ë¦­ë¨','https://survivaloffice.com/images/8.png','https://survivaloffice.com/images/3.png','isDynamic','ì´ë²ˆ\x20ì£¼\x20ë‚ ì§œ\x20ë²”ìœ„:\x20','strokeStyle','top10-rank','rotationAngle','AIzaSyCK4Zdkhlc0cnjqC3TpmUJmLAt8Xrh8VOw','createBody','save','ë“±ë¡\x20ì™„ë£Œ','function','upupup-e4c2c.appspot.com','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</li>','https://www.survivaloffice.com/images/5.png','clip','753804yEwaSZ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20style=\x22display:\x20flex;\x20justify-content:\x20space-between;\x20align-items:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ğŸ‰\x20\x20','Failed\x20to\x20load\x20image:\x20','getPosition','getContext','width','getFullYear','543130qcBDYn','https://www.survivaloffice.com/images/10.png','272gxGQIs','ì ìˆ˜ê°€\x20ì„±ê³µì ìœ¼ë¡œ\x20ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.','ì \x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22date\x22\x20style=\x22margin-left:\x20auto;\x20text-align:\x20right;\x22>','max','Start\x20Date:','Edge','then','isMerging','Before\x20updating:','ê³„ì‚°ëœ\x20ì›”ìš”ì¼:\x20','After\x20updating:','rgba(255,\x20255,\x200,\x200.8)','clientWidth','margin','ë‹‰ë„¤ì„ì€\x205ê¸€ì\x20ì´í•˜ë¡œ\x20ì…ë ¥í•´ì£¼ì„¸ìš”.','now','390494UwApiy','https://survivaloffice.com/images/4.png','1:877963060151:web:e70751cb30638880767e32','textContent','result-popup','https://www.survivaloffice.com/images/4.png','ì´ë¯¸\x20ì ìˆ˜ê°€\x20ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.','label','Firestoreì—\x20ì ìˆ˜\x20ì €ì¥\x20ì‹œë„:','padStart','155966dejPCJ','display','gray','image','toDate','ë‚ ì§œ\x20ì—†ìŒ','ì›”ìš”ì¼ê¹Œì§€ì˜\x20ì°¨ì´:\x20','https://www.survivaloffice.com/images/3.png','8193fKAhNJ','upupup-e4c2c.firebaseapp.com','beginPath','value','desc','disabled','ì ìˆ˜\x20ë“±ë¡','min','start-btn','nickname','url','setDate','next-planet-preview','push','\x20~\x20','none','https://www.survivaloffice.com/images/LRLR.png','sqrt','onerror','globalAlpha','<p>ë­í‚¹\x20ë°ì´í„°ê°€\x20ì—†ìŠµë‹ˆë‹¤.</p>','Vec2','style','step','180040AOMEJG','indexOf','stopPropagation','height','<p>ë­í‚¹\x20ë°ì´í„°ë¥¼\x20ë¶ˆëŸ¬ì˜¤ì§€\x20ëª»í–ˆìŠµë‹ˆë‹¤.</p>','5px','addEventListener','onload','saveScoreButton','https://survivaloffice.com/images/9.png','planet-area','https://survivaloffice.com/images/6.png','error','í˜„ì¬\x20ìš”ì¼:\x20','ëª¨ë“ \x20ì´ë¯¸ì§€ê°€\x20ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!','length','destroyBody','split','appendChild','https://survivaloffice.com/images/5.png','arc','restore','catch','getBoundingClientRect','<p>ìµœê³ \x20ì ìˆ˜\x20ë°ì´í„°ë¥¼\x20ë¶ˆëŸ¬ì˜¤ì§€\x20ëª»í–ˆìŠµë‹ˆë‹¤.</p>','upupup-e4c2c','ëª…ì™•ì„±','ì´ë¯¸ì§€\x20ë¡œë“œ\x20ì¤‘...\x20(','applyLinearImpulse','canvas','10zIJqQa','alt','string','Unknown','ì¿¼ë¦¬\x20ê²°ê³¼\x20ê°œìˆ˜:','next-planet-container','baseSize','ìœ„\x20-\x20','<h2>Top\x2010\x20ë­í‚¹</h2><ul>','getBody','click','ê³„ì‚°ëœ\x20ì¼ìš”ì¼:\x20','stroke','ìƒˆë¡œìš´\x20ì ìˆ˜\x20ì €ì¥\x20ì¤‘...','fill','message','https://www.survivaloffice.com/images/1.png'];_0x51be=function(){return _0x3386b2;};return _0x51be();}function resetGame(){const _0x3e271d=_0x5d8d57;score=0x0,updateScore(0x0),planetsList[_0x3e271d(0xd2)](_0xb748d7=>world[_0x3e271d(0xa6)](_0xb748d7)),planetsList[_0x3e271d(0xa5)]=0x0,isGameOver=![],isGameStarted=![],planetDropCount=0x0,currentPlanetIndex=getNextPlanetIndex(),updateNextPlanetPreview(),document[_0x3e271d(0xe4)](_0x3e271d(0x12f))['style']['display']=_0x3e271d(0x8d);const _0x2a59de=document['getElementById'](_0x3e271d(0x9e));_0x2a59de[_0x3e271d(0x83)]=![],_0x2a59de[_0x3e271d(0x94)]['cursor']='pointer',_0x2a59de[_0x3e271d(0x12e)]=_0x3e271d(0x84),document['getElementById'](_0x3e271d(0xd5))[_0x3e271d(0x81)]='',startGame();}function startGame(){const _0x626398=_0x5d8d57;isGameStarted=!![],startScreen['style'][_0x626398(0x136)]=_0x626398(0x8d),planetArea[_0x626398(0x94)][_0x626398(0x136)]=_0x626398(0xf9),updateScore(0x0),resizeCanvas(),currentPlanetIndex=getNextPlanetIndex(),updateNextPlanetPreview(),render(),update();}const saveScoreButton=document[_0x5d8d57(0xe4)]('saveScoreButton');saveScoreButton[_0x5d8d57(0x9c)](_0x5d8d57(0xbe),async _0x278bda=>{const _0x226240=_0x5d8d57;_0x278bda['preventDefault']();if(saveScoreButton['disabled']){alert(_0x226240(0x131));return;}const _0x490328=document['getElementById']('nicknameInput')['value'];if(_0x490328[_0x226240(0xa5)]===0x0){alert('ë‹‰ë„¤ì„ì„\x20ì…ë ¥í•´ì£¼ì„¸ìš”.');return;}else{if(_0x490328[_0x226240(0xa5)]>0x5){alert(_0x226240(0x129));return;}}await saveScore(_0x490328,score),saveScoreButton['disabled']=!![],saveScoreButton[_0x226240(0x94)]['cursor']='not-allowed',saveScoreButton[_0x226240(0x12e)]=_0x226240(0x10c);});function showGameOverPopup(){const _0x27a7c4=_0x5d8d57,_0x2b99ea=document[_0x27a7c4(0xe4)]('result-popup');_0x2b99ea[_0x27a7c4(0x94)][_0x27a7c4(0x136)]='block';}let score=0x0;const scoreDisplay=document['getElementById'](_0x5d8d57(0xd4));function getPlanetSize(_0x4c5076){const _0x488125=_0x5d8d57,_0x1551a9=Math[_0x488125(0x85)](canvas['width'],canvas[_0x488125(0x99)]);return _0x4c5076*_0x1551a9*0.05;}function loadImage(_0x5eb3f1,_0x2f3ebb='default.png'){return new Promise((_0x1e78cd,_0x3621a9)=>{const _0x38c77c=_0x4897,_0x42fbef=new Image();_0x42fbef[_0x38c77c(0xfc)]=_0x5eb3f1,_0x42fbef[_0x38c77c(0x9d)]=()=>{_0x1e78cd(_0x42fbef);},_0x42fbef[_0x38c77c(0x90)]=()=>{const _0xa0124a=_0x38c77c;console['error'](_0xa0124a(0x114)+_0x5eb3f1+_0xa0124a(0xf5));const _0x3cc065=new Image();_0x3cc065['src']=_0x2f3ebb,_0x3cc065[_0xa0124a(0x9d)]=()=>{_0x1e78cd(_0x3cc065);},_0x3cc065[_0xa0124a(0x90)]=()=>{const _0x58d85e=_0xa0124a;_0x3621a9(new Error(_0x58d85e(0xf1)+_0x2f3ebb));};};});}function drawRotatingPlanet(_0x28aa77){const _0x55c34e=_0x5d8d57,_0x6914be=_0x28aa77[_0x55c34e(0x115)](),_0x309322={'x':_0x6914be['x']*0x1e,'y':canvas[_0x55c34e(0x99)]-_0x6914be['y']*0x1e},_0x4fe0b3=_0x28aa77[_0x55c34e(0xf3)]*0x1e;_0x28aa77[_0x55c34e(0x79)]?(ctx[_0x55c34e(0x10b)](),ctx[_0x55c34e(0x80)](),ctx[_0x55c34e(0xaa)](_0x309322['x'],_0x309322['y'],_0x4fe0b3,0x0,0x2*Math['PI']),ctx[_0x55c34e(0x111)](),ctx['translate'](_0x309322['x'],_0x309322['y']),ctx[_0x55c34e(0xda)](_0x28aa77[_0x55c34e(0x108)]),ctx['drawImage'](_0x28aa77[_0x55c34e(0x79)],-_0x4fe0b3,-_0x4fe0b3,_0x4fe0b3*2.07,_0x4fe0b3*2.07),ctx[_0x55c34e(0xab)](),_0x28aa77['rotationAngle']<0x2*Math['PI']&&(_0x28aa77[_0x55c34e(0x108)]+=0.05)):(ctx[_0x55c34e(0x80)](),ctx[_0x55c34e(0xaa)](_0x309322['x'],_0x309322['y'],_0x4fe0b3,0x0,0x2*Math['PI']),ctx['fillStyle']='gray',ctx[_0x55c34e(0xc2)]());}let planetDropCount=0x0;function getNextPlanetIndex(){const _0x1c89e1=_0x5d8d57;if(planetDropCount<0x14)return planetDropCount++,0x0;const _0x2f5456=Math[_0x1c89e1(0xe1)]()*0x64;if(_0x2f5456<0x3c)return 0x0;if(_0x2f5456<0x5a)return 0x1;return 0x2;}function updateScore(_0x2a6242){const _0x1a1f20=_0x5d8d57;score+=_0x2a6242,scoreDisplay[_0x1a1f20(0x12e)]=_0x1a1f20(0xec)+score;}function _0x4897(_0x1b2aed,_0x203483){const _0x51be50=_0x51be();return _0x4897=function(_0x48975e,_0x3e5023){_0x48975e=_0x48975e-0x78;let _0x64df0d=_0x51be50[_0x48975e];return _0x64df0d;},_0x4897(_0x1b2aed,_0x203483);}function createPlanet(_0x59c5e1,_0x23aa98,_0x356b0c=canvas[_0x5d8d57(0x99)]/0x1e){const _0x109e44=_0x5d8d57,_0x3e9bc2=planets[_0x59c5e1],_0x4f0a37=getPlanetSize(_0x3e9bc2[_0x109e44(0xba)])/3.2,_0x120df2=_0x4f0a37/0x1e,_0x2884ee=canvas['width']/0x1e-_0x4f0a37/0x1e;_0x23aa98=Math[_0x109e44(0x11e)](_0x120df2,Math['min'](_0x23aa98,_0x2884ee));const _0xa07fa=world[_0x109e44(0x10a)]({'type':'dynamic','position':Vec2(_0x23aa98,_0x356b0c)});return _0xa07fa[_0x109e44(0xdd)](pl['Circle'](_0x4f0a37),{'density':0x3,'friction':0.2,'restitution':0.1}),_0xa07fa[_0x109e44(0xf3)]=_0x4f0a37,_0xa07fa['label']='planet-'+_0x59c5e1,_0xa07fa[_0x109e44(0x108)]=0x0,loadImage(_0x3e9bc2[_0x109e44(0x88)])[_0x109e44(0x121)](_0xeada52=>{const _0x57a2f7=_0x109e44;_0xa07fa[_0x57a2f7(0x79)]=_0xeada52;})[_0x109e44(0xac)](_0x46a67f=>{const _0x13bc86=_0x109e44;console[_0x13bc86(0xa2)](_0x46a67f[_0x13bc86(0xc3)]);}),_0xa07fa[_0x109e44(0xcc)](Vec2(0x0,-0x1e)),_0xa07fa;}world[_0x5d8d57(0xf2)]=0.001;function toCanvasCoords(_0x2c3bca){const _0x1660d5=_0x5d8d57;return{'x':_0x2c3bca['x']*0x1e,'y':canvas[_0x1660d5(0x99)]-_0x2c3bca['y']*0x1e};}function createWalls(){const _0x291280=_0x5d8d57,_0x3baaa2=canvas['width']/0x1e,_0x3e4e82=canvas['height']/0x1e;world[_0x291280(0xfd)]&&world[_0x291280(0xfd)][_0x291280(0xd2)](_0x13bdf7=>world[_0x291280(0xa6)](_0x13bdf7));const _0x132561=[],_0x5ee98a=world[_0x291280(0x10a)]();_0x5ee98a[_0x291280(0xdd)](pl[_0x291280(0x120)](Vec2(0x0,0x0),Vec2(0x0,_0x3e4e82)),{'friction':0.2,'restitution':0.1}),_0x132561[_0x291280(0x8b)](_0x5ee98a);const _0x37b78e=world[_0x291280(0x10a)]();_0x37b78e[_0x291280(0xdd)](pl['Edge'](Vec2(_0x3baaa2,0x0),Vec2(_0x3baaa2,_0x3e4e82)),{'friction':0.2,'restitution':0.1}),_0x132561[_0x291280(0x8b)](_0x37b78e);const _0x4fc515=world[_0x291280(0x10a)]();_0x4fc515[_0x291280(0xdd)](pl['Edge'](Vec2(0x0,0x0),Vec2(_0x3baaa2,0x0)),{'friction':0.2,'restitution':0.1}),_0x132561[_0x291280(0x8b)](_0x4fc515),world['walls']=_0x132561;}createWalls(),window[_0x5d8d57(0x9c)](_0x5d8d57(0xca),()=>{const _0xbfea03=_0x5d8d57;canvas[_0xbfea03(0x117)]=0x168,canvas[_0xbfea03(0x99)]=0x1c2,createWalls();});function drawPlanet(_0x112910){const _0x5e93d0=_0x5d8d57,_0x1cf3fb=_0x112910[_0x5e93d0(0x115)](),_0x489b60={'x':_0x1cf3fb['x']*0x1e,'y':canvas[_0x5e93d0(0x99)]-_0x1cf3fb['y']*0x1e},_0x2c823e=_0x112910['radius']*0x1e;_0x112910[_0x5e93d0(0x79)]?ctx[_0x5e93d0(0xdb)](_0x112910[_0x5e93d0(0x79)],_0x489b60['x']-_0x2c823e,_0x489b60['y']-_0x2c823e,_0x2c823e*2.07,_0x2c823e*2.07):(ctx[_0x5e93d0(0x80)](),ctx[_0x5e93d0(0xaa)](_0x489b60['x'],_0x489b60['y'],_0x2c823e,0x0,0x2*Math['PI']),ctx[_0x5e93d0(0xe8)]=_0x5e93d0(0x78),ctx[_0x5e93d0(0xc2)]());}function resizeCanvas(){const _0xa32a89=_0x5d8d57;canvas['width']=planetArea[_0xa32a89(0x127)],canvas['height']=planetArea[_0xa32a89(0xcb)],createWalls();}window['addEventListener']('resize',resizeCanvas),resizeCanvas();function render(){const _0x2b2855=_0x5d8d57;ctx['clearRect'](0x0,0x0,canvas['width'],canvas[_0x2b2855(0x99)]),planetsList[_0x2b2855(0xd2)](_0x25057d=>{drawRotatingPlanet(_0x25057d);}),requestAnimationFrame(render);}function applyImpulse(_0x2bd6d9,_0x1af29d=0x14){const _0x1be890=_0x5d8d57,_0x3f9daf=_0x2bd6d9[_0x1be890(0x115)]();planetsList['forEach'](_0x24a3c7=>{const _0x899f62=_0x1be890;if(_0x24a3c7===_0x2bd6d9)return;const _0x5b1788=_0x24a3c7[_0x899f62(0x115)](),_0x4fca3e=_0x5b1788['x']-_0x3f9daf['x'],_0x2833cb=_0x5b1788['y']-_0x3f9daf['y'],_0x2568b5=Math[_0x899f62(0x8f)](_0x4fca3e*_0x4fca3e+_0x2833cb*_0x2833cb);if(_0x2568b5<_0x2bd6d9['radius']+_0x24a3c7[_0x899f62(0xf3)]){const _0x1d4156=_0x4fca3e/_0x2568b5*_0x1af29d,_0x87c8a3=_0x2833cb/_0x2568b5*_0x1af29d;_0x24a3c7[_0x899f62(0xb2)](Vec2(_0x1d4156,_0x87c8a3),_0x24a3c7[_0x899f62(0xe2)]());}});}let lastPlanetDropTime=0x0;const planetDropDelay=0xc8;let currentPlanetIndex;currentPlanetIndex=getNextPlanetIndex(),updateNextPlanetPreview();function updateNextPlanetPreview(){const _0xcffc02=_0x5d8d57,_0x1509f7=document['getElementById'](_0xcffc02(0x8a));_0x1509f7[_0xcffc02(0xe5)]='';const _0x434925=planets[currentPlanetIndex],_0x24ca70=document[_0xcffc02(0xc8)]('img');_0x24ca70[_0xcffc02(0xfc)]=_0x434925['url'],_0x24ca70[_0xcffc02(0xb5)]=_0x434925[_0xcffc02(0xd9)],_0x1509f7[_0xcffc02(0xa8)](_0x24ca70);}planetArea[_0x5d8d57(0x9c)](_0x5d8d57(0xbe),_0x582d81=>{const _0x1ecfce=_0x5d8d57;if(!isGameStarted)return;if(isGameOver)return;const _0x57f0a5=Date[_0x1ecfce(0x12a)]();if(_0x57f0a5-lastPlanetDropTime<planetDropDelay)return;const _0x141cf2=(_0x582d81['clientX']-planetArea[_0x1ecfce(0xad)]()['left'])/0x1e;planetsList[_0x1ecfce(0x8b)](createPlanet(currentPlanetIndex,_0x141cf2,canvas[_0x1ecfce(0x99)]/0x1e)),currentPlanetIndex=getNextPlanetIndex(),updateNextPlanetPreview(),lastPlanetDropTime=_0x57f0a5;});function mergePlanets(_0x350699,_0x3fcda1,_0x3e7a06){const _0x31754d=_0x5d8d57,_0x23e7d5=_0x350699[_0x31754d(0x115)]();world[_0x31754d(0xa6)](_0x350699),world[_0x31754d(0xa6)](_0x3fcda1),planetsList[_0x31754d(0xea)](planetsList[_0x31754d(0x97)](_0x350699),0x1),planetsList[_0x31754d(0xea)](planetsList[_0x31754d(0x97)](_0x3fcda1),0x1);const _0x26b4a0=toCanvasCoords(_0x23e7d5);createEffect(_0x26b4a0['x'],_0x26b4a0['y']);if(_0x3e7a06===null){updateScore(0x1388);const _0x498d37=toCanvasCoords(_0x23e7d5);createEffect(_0x498d37['x'],_0x498d37['y']);}setTimeout(()=>{const _0x15e62b=_0x31754d;if(_0x3e7a06!==null){const _0x3bc040=createPlanet(_0x3e7a06,_0x23e7d5['x'],_0x23e7d5['y']);planetsList[_0x15e62b(0x8b)](_0x3bc040),applyImpulse(_0x3bc040),updateScore(planets[_0x3e7a06]['score']);}},0x64);}function createEffect(_0x2a5a25,_0x12c02e){const _0x3e2336=_0x5d8d57,_0x3d2bce=0x1f4,_0x13b5a0=Date[_0x3e2336(0x12a)]();function _0x2f3f34(){const _0x4926c3=_0x3e2336,_0x27282f=Date['now']()-_0x13b5a0;if(_0x27282f>_0x3d2bce)return;ctx[_0x4926c3(0x10b)](),ctx[_0x4926c3(0x91)]=0x1-_0x27282f/_0x3d2bce,ctx['beginPath'](),ctx[_0x4926c3(0xaa)](_0x2a5a25,_0x12c02e,0x1e+_0x27282f/0xa,0x0,0x2*Math['PI']),ctx[_0x4926c3(0x106)]=_0x4926c3(0x126),ctx[_0x4926c3(0xe7)]=0x3,ctx[_0x4926c3(0xc0)](),ctx['restore'](),requestAnimationFrame(_0x2f3f34);}_0x2f3f34();}function addSunToNextContainer(){const _0x2ad62f=_0x5d8d57,_0x3fd977=document[_0x2ad62f(0xe4)](_0x2ad62f(0xb9)),_0x5b14ee=document['createElement']('img');_0x5b14ee[_0x2ad62f(0xfc)]=planets[planets[_0x2ad62f(0xa5)]-0x1][_0x2ad62f(0x88)],_0x5b14ee[_0x2ad62f(0xb5)]='íƒœì–‘',_0x5b14ee[_0x2ad62f(0x94)]['maxWidth']=_0x2ad62f(0xcf),_0x5b14ee['style'][_0x2ad62f(0x128)]=_0x2ad62f(0x9b),_0x3fd977[_0x2ad62f(0xa8)](_0x5b14ee);}function checkGameOver(){const _0x4938bf=_0x5d8d57,_0x513080=canvas[_0x4938bf(0x99)];planetsList[_0x4938bf(0xd2)](_0x492cb6=>{const _0x3d43cf=_0x4938bf,_0x17fbd9=_0x492cb6[_0x3d43cf(0x115)](),_0x12e539=toCanvasCoords(_0x17fbd9),_0xcf8209=_0x492cb6[_0x3d43cf(0xf3)]*0x1e;_0x12e539['y']+_0xcf8209<=0x0&&endGame();});}const mergeQueue=[];world['on']('pre-solve',_0x2bd94b=>{const _0x28ee24=_0x5d8d57,_0x419874=_0x2bd94b['getFixtureA']()[_0x28ee24(0xbd)](),_0x2bfbeb=_0x2bd94b['getFixtureB']()['getBody']();if(_0x419874[_0x28ee24(0x104)]()&&_0x2bfbeb['isDynamic']()){const _0x30dbff=_0x419874,_0x4d9690=_0x2bfbeb;if(_0x30dbff[_0x28ee24(0x122)]||_0x4d9690[_0x28ee24(0x122)])return;if(_0x30dbff[_0x28ee24(0x132)]===_0x4d9690[_0x28ee24(0x132)]){const _0x300729=parseInt(_0x30dbff[_0x28ee24(0x132)][_0x28ee24(0xa7)]('-')[0x1],0xa);_0x30dbff['isMerging']=!![],_0x4d9690[_0x28ee24(0x122)]=!![];if(_0x300729===planets['length']-0x1)mergeQueue[_0x28ee24(0x8b)]({'planetA':_0x30dbff,'planetB':_0x4d9690,'nextIndex':null});else _0x300729<planets[_0x28ee24(0xa5)]-0x1&&mergeQueue[_0x28ee24(0x8b)]({'planetA':_0x30dbff,'planetB':_0x4d9690,'nextIndex':_0x300729+0x1});}}});function update(){const _0x129bc7=_0x5d8d57;world[_0x129bc7(0x95)](0x1/0x3c);while(mergeQueue[_0x129bc7(0xa5)]>0x0){const {planetA:_0x49f626,planetB:_0x39d961,nextIndex:_0x449c67}=mergeQueue[_0x129bc7(0xeb)](),_0x2630fc=_0x49f626[_0x129bc7(0x115)](),_0xe7a82b=toCanvasCoords(_0x2630fc);_0x449c67===null?(world[_0x129bc7(0xa6)](_0x49f626),world[_0x129bc7(0xa6)](_0x39d961),planetsList['splice'](planetsList[_0x129bc7(0x97)](_0x49f626),0x1),planetsList['splice'](planetsList[_0x129bc7(0x97)](_0x39d961),0x1),updateScore(0x1388),createEffect(_0xe7a82b['x'],_0xe7a82b['y'])):mergePlanets(_0x49f626,_0x39d961,_0x449c67),_0x49f626['isMerging']=![],_0x39d961[_0x129bc7(0x122)]=![];}planetsList[_0x129bc7(0xd2)](_0x17d7f6=>{const _0x279c01=_0x129bc7;_0x17d7f6[_0x279c01(0x115)]()['y']<0x0&&world['destroyBody'](_0x17d7f6);}),checkGameOver(),requestAnimationFrame(update);}const planetsList=[];let isGameOver=![];function endGame(){if(isGameOver)return;isGameOver=!![],showGameOverPopup();}updateScore(0x0),render(),update();