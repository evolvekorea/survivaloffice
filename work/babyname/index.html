<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ ê²€ìƒ‰ê¸°</title>
  <meta name="description" content="ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ Top 20 ë³´ê¸°" />
  <meta name="keywords" content="ì´ë¦„, ì„±ëª…, ìœ í–‰ì´ë¦„, ì—°ë„ë³„ì´ë¦„, ì¸ê¸°ì´ë¦„, ì„œë°”ì´ë²Œì˜¤í”¼ìŠ¤, ì•„ê¸°ì´ë¦„, ì´ë¦„ì§“ê¸°, ì‘ëª…, ìœ í–‰, ìì‹ì´ë¦„, ìš”ì¦˜ì´ë¦„" />

  <!-- Adsense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4957586937754537" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-4957586937754537" />

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G4TPWGLYLY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-G4TPWGLYLY');
  </script>

  <!-- Open Graph -->
  <meta property="og:title" content="ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ ê²€ìƒ‰ê¸°" />
  <meta property="og:description" content="ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ Top 20 ë³´ê¸°" />
  <meta property="og:url" content="https://www.survivaloffice.com/work/babyname" />
  <meta property="og:image" content="https://www.survivaloffice.com/images/name1.png" />
  <meta property="og:type" content="website" />

  <link rel="stylesheet" href="style.css" />
</head>
<body oncontextmenu="return false">
  <nav aria-label="Global">
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/rest/">ë¯¸ë‹ˆê²Œì„</a></li>
      <li><a href="/work/">ìƒì¡´í‚¤íŠ¸</a></li>
      <li><a href="/test/">í…ŒìŠ¤íŠ¸</a></li>
    </ul>
  </nav>

  <!-- ìƒë‹¨ ê´‘ê³  -->
  <div class="ad-container" aria-label="ê´‘ê³ ">
    <ins id="ad-top" class="adsbygoogle"
        style="display:block; width:100%; min-height:90px;"
        data-ad-client="ca-pub-4957586937754537"
        data-ad-slot="9240598215"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
  </div>

  <div id="app" role="application" aria-live="polite">
    <!-- ìŠ¤í…í¼: í™”ë©´ í•˜ë‹¨ -->
    <ol id="stepper" class="stepper" aria-label="ì§„í–‰ ë‹¨ê³„">
      <li class="active" data-step="1">ì‹œì‘</li>
      <li data-step="2">ì—°ë„ì„ íƒ</li>
      <li data-step="3">ë¡œë”©</li>
      <li data-step="4">ê²°ê³¼</li>
    </ol>

    <!-- 1) ì‹œì‘ -->
    <section id="start-screen" class="screen active" aria-labelledby="start-title">
      <h1 id="start-title" class="sr-only">ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ ê²€ìƒ‰ ì‹œì‘</h1>
      <img src="https://www.survivaloffice.com/images/name.png" alt="ì—°ë„ë³„ ì¸ê¸° ì´ë¦„ ê²€ìƒ‰ ì‹œì‘ í™”ë©´" class="background-img" />
      <div class="start-cta">
        <p class="help-text">ì—°ë„ë¥¼ ì„ íƒí•´ í•´ë‹¹ í•´ì˜ ì¸ê¸° ì´ë¦„ Top 20ì„ í™•ì¸í•˜ì„¸ìš”</p>
        <button id="start-btn" class="btn primary">ê²€ìƒ‰ í•˜ê¸°</button>
      </div>
    </section>

    <!-- 2) ì—°ë„ ì„ íƒ -->
    <section id="select-screen" class="screen" aria-labelledby="select-title" hidden>
      <div class="container narrow">
        <h2 id="select-title">ì—°ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
        <form id="search-form" class="field-row" autocomplete="off">
          <label for="year-select">ì—°ë„</label>
          <select id="year-select" required>
            <option value="">ì„ íƒ</option>
            <option>2018</option><option>2019</option><option>2020</option><option>2021</option>
            <option>2022</option><option>2023</option><option>2024</option><option>2025</option>
          </select>
          <div class="actions">
            <button class="btn primary" type="submit">Top 20 ë³´ê¸°</button>
          </div>
        </form>
      </div>
    </section>

    <!-- 3) ë¡œë”© -->
    <section id="loading-screen" class="screen" aria-live="assertive" hidden>
      <div class="loading-wrap">
        <div class="spinner" aria-hidden="true"></div>
        <div class="loading-text">ê²°ê³¼ ë¶„ì„ ì¤‘...</div>
        <div class="loading-sub">ì—°ë„ ë°ì´í„°ì™€ ìˆœìœ„ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ìˆì–´ìš”</div>
      </div>
    </section>

    <!-- 4) ê²°ê³¼ -->
    <section id="result-screen" class="screen" aria-labelledby="result-title" hidden>
      <div class="container result">
        <header class="result-header">
          <h2 id="result-title"><span id="list-year">â€”</span>ë…„ ì¸ê¸° ì´ë¦„ Top 20</h2>
          <p class="subtitle">ìƒìœ„ 20ê°œ ì´ë¦„ë§Œ ì œê³µë©ë‹ˆë‹¤.</p>
        </header>

        <!-- Top20 -->
        <section class="card" aria-labelledby="toplist-title">
          <div class="card-header">
            <h3 id="toplist-title">Top 20</h3>
            <div class="card-actions">
              <button id="copy-list" class="btn tiny" aria-label="ëª©ë¡ ë³µì‚¬">ë³µì‚¬</button>
            </div>
          </div>
          <div id="toplist-grid" class="rank-grid" aria-live="polite"></div>
        </section>

        <!-- í•˜ë‹¨ ì•¡ì…˜ -->
        <div id="bottom-actions" class="actions-row" style="display:none">
          <button id="share-kakao" class="btn kakao" type="button">ğŸ’¬ ì¹´í†¡ ê³µìœ </button>
          <button id="share-link"  class="btn link"  type="button">ğŸ”— ë§í¬ ë³µì‚¬</button>
          <button id="restart-btn" class="btn restart" type="button">â†©ï¸ ì²˜ìŒìœ¼ë¡œ</button>
        </div>
      </div>
    </section>
  </div>

  <!-- í•˜ë‹¨ ê´‘ê³  -->
  <div class="footer-ad-container" aria-label="ê´‘ê³ ">
    <ins id="ad-bottom" class="adsbygoogle"
        style="display:block; width:100%; min-height:90px;"
        data-ad-client="ca-pub-4957586937754537"
        data-ad-slot="9931828353"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
  </div>

  <!-- Scripts -->
  <script type="module" src="script.js"></script>
  <script>
  (function(){
    function log(label, ...args) {
      console.log(`[ADS:${label}]`, ...args);
    }

    // í­ 0ì¼ ë• ì§€ì—°, í•œë²ˆ ì„±ê³µí•˜ë©´ ë‹¤ì‹œ push ì•ˆ í•¨
    function pushOnce(ins, label) {
      if (!ins) { log(label, "âŒ slot element not found"); return true; }
      if (ins.dataset.pushed === "1") { log(label, "âš ï¸ already pushed; skip"); return true; }

      try {
        const w = ins.offsetWidth || 0;
        if (w <= 0) {
          log(label, `â³ width=0; defer push`);
          return false; // ì•„ì§ì€ ëª»í•¨
        }
        (adsbygoogle = window.adsbygoogle || []).push({});
        ins.dataset.pushed = "1";
        log(label, `âœ… pushed (width=${w}px)`);
        return true;
      } catch (e) {
        log(label, "âŒ push error:", e);
        return false;
      }
    }

    function setup(ins, label) {
      // ì¦‰ì‹œ ì‹œë„
      if (pushOnce(ins, label)) return;

      // í¬ê¸° ë³€í™”ë¥¼ ê°ì‹œí•´ í­ì´ ìƒê¸°ë©´ push
      const ro = new ResizeObserver(() => {
        if (pushOnce(ins, label)) ro.disconnect();
      });
      ro.observe(ins);

      // ë³´ì¡° ì‹œë„: load/resize/orientation
      const retry = () => pushOnce(ins, label);
      window.addEventListener("load", retry, { once: true });
      window.addEventListener("resize", retry);
      window.addEventListener("orientationchange", retry);

      // ì•ˆì „ íƒ€ì„ì•„ì›ƒ(ì˜ˆ: 3ì´ˆ í›„ í•œ ë²ˆ ë” ì‹œë„)
      setTimeout(retry, 3000);
    }

    document.addEventListener("DOMContentLoaded", () => {
      // ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ìƒíƒœ ë¡œê·¸
      if (!("adsbygoogle" in window)) {
        log("INIT", "âš ï¸ adsbygoogle not yet present; will queue");
      } else {
        log("INIT", "âœ… adsbygoogle present");
      }

      // ê° ìŠ¬ë¡¯ ì´ˆê¸°í™”
      setup(document.getElementById("ad-top"), "Top");
      setup(document.getElementById("ad-bottom"), "Bottom");
    });
  })();
  </script>
</body>
</html>
