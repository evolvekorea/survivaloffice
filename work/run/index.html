<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=360, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>러닝 기록 생성기</title>
  <meta name="description" content="러닝 기록을 직접 입력하고 효과를 선택해 영상 캡처에 활용하세요.">
  <meta name="keywords" content="러닝, 운동 기록, 러닝 리포트, 페이스, 케이던스, 러닝 캡쳐, 갤럭시나이키런, 나이키런, 갤럭시캡쳐, 러닝기록, 러닝인증, 인증샷">

  <!-- Google Adsense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4957586937754537" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-4957586937754537">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G4TPWGLYLY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-G4TPWGLYLY');
  </script>

  <!-- Open Graph -->
  <meta property="og:title" content="러닝 기록 생성기" />
  <meta property="og:description" content="직접 입력한 러닝 기록을 감각적인 효과와 함께 캡쳐해 보세요." />
  <meta property="og:url" content="https://www.survivaloffice.com/work/run" />
  <meta property="og:image" content="https://www.survivaloffice.com/images/run.png" />
  <meta property="og:type" content="website" />

  <link rel="stylesheet" href="style.css">
</head>
<body oncontextmenu="return false">
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/rest/">미니게임</a></li>
      <li><a href="/test/">테스트</a></li>
      <li><a href="/work/">생존키트</a></li>
    </ul>
  </nav>

  <!-- 상단 광고 -->
  <div class="ad-container" aria-label="상단 광고 영역">
    <ins class="adsbygoogle"
         style="display:block; min-height: 90px;"
         data-ad-client="ca-pub-4957586937754537"
         data-ad-slot="9240598215"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <main class="run-lab" role="main" aria-labelledby="app-title">
    <div class="app-shell" aria-live="polite">
      <!-- 상단 컨트롤 패널: 효과 + 색상 + 입력 + 버튼 전부 여기 -->
      <header class="control-panel">
        <div class="panel-head">
          <p id="app-title">러닝 기록 생성기</p>
          <p class="panel-desc">위에서 값/효과 설정 후, 아래 카드 화면만 캡처해 보세요.</p>
        </div>

        <!-- 효과 / 색상 설정 -->
        <div class="panel-grid">
          <label class="panel-field" for="effectSelect">
            <span>효과</span>
            <select id="effectSelect">
              <option value="smooth">천천히 상승</option>
              <option value="bounce">탄성 상승</option>
              <option value="snap">스냅 점프</option>
            </select>
          </label>
          <label class="panel-field" for="textColor">
            <span>글자색</span>
            <input type="color" id="textColor" value="#111111" aria-label="글자색 선택">
          </label>
        </div>

        <div class="panel-toggles">
          <label class="toggle">
            <input type="checkbox" id="slowMode" checked>
            <span>느리게 차오르기</span>
          </label>
          <label class="toggle">
            <input type="checkbox" id="glowEffect">
            <span>하이라이트 글로우</span>
          </label>
        </div>

        <!-- ✅ 모든 입력칸을 상단으로 모음 -->
        <div class="input-grid">
          <label class="input-field" for="kmInput">
            <span>킬로미터</span>
            <input type="number" inputmode="decimal" step="0.01" id="kmInput" placeholder="5.34" aria-label="킬로미터 입력">
          </label>
          <label class="input-field" for="paceInput">
            <span>페이스 (분:초)</span>
            <input id="paceInput" type="text" inputmode="numeric" placeholder="0535" aria-label="페이스 입력 (분:초)">
          </label>
          <label class="input-field" for="timeInput">
            <span>시간 (분:초)</span>
            <input id="timeInput" type="text" inputmode="numeric" placeholder="2300" aria-label="시간 입력 (분:초)">
          </label>
          <label class="input-field" for="calInput">
            <span>칼로리</span>
            <input id="calInput" type="number" inputmode="numeric" placeholder="37" aria-label="칼로리 입력">
          </label>
          <label class="input-field" for="elevInput">
            <span>고도 상승 (m)</span>
            <input id="elevInput" type="number" inputmode="numeric" placeholder="3" aria-label="고도 상승 입력">
          </label>
          <label class="input-field" for="heartInput">
            <span>평균 심박</span>
            <input id="heartInput" type="number" inputmode="numeric" placeholder="131" aria-label="평균 심박수 입력">
          </label>
          <label class="input-field" for="cadenceInput">
            <span>케이던스</span>
            <input id="cadenceInput" type="number" inputmode="numeric" placeholder="168" aria-label="케이던스 입력">
          </label>
        </div>

        <!-- 버튼도 상단에 -->
        <div class="action-row">
          <button id="recordBtn" class="primary-btn" type="button">효과 적용 &amp; 기록</button>
          <button id="resetBtn" class="ghost-btn" type="button">초기화</button>
        </div>
      </header>

      <!-- ✅ 하단은 오직 “캡처용 카드 화면” -->
      <section class="record-card" aria-label="러닝 기록 카드">
        <div class="distance-section">
          <div class="distance-display" data-display-group>
            <span id="kmDisplay" class="distance-number">0.00</span>
          </div>
          <p class="metric-label distance-label">킬로미터</p>
        </div>

        <div class="metrics-grid">
          <article class="metric" data-type="time">
            <p id="paceDisplay" class="metric-value">--:--</p>
            <p class="metric-label">페이스</p>
          </article>
          <article class="metric" data-type="time">
            <p id="timeDisplay" class="metric-value">00:00</p>
            <p class="metric-label">시간</p>
          </article>
          <article class="metric" data-type="number" data-decimals="0">
            <p id="calDisplay" class="metric-value">0</p>
            <p class="metric-label">칼로리</p>
          </article>
          <article class="metric" data-type="number" data-decimals="0">
            <p id="elevDisplay" class="metric-value">0 m</p>
            <p class="metric-label">고도 상승</p>
          </article>
          <article class="metric" data-type="number" data-decimals="0">
            <p id="heartDisplay" class="metric-value">0</p>
            <p class="metric-label">평균 심박수</p>
          </article>
          <article class="metric" data-type="number" data-decimals="0">
            <p id="cadenceDisplay" class="metric-value">0</p>
            <p class="metric-label">케이던스</p>
          </article>
        </div>
      </section>

      <p class="helper-text">TIP. 위에서 값과 효과 설정 후, 아래 카드 영역만 전체 화면 캡쳐 또는 녹화해 보세요.</p>
    </div>
  </main>

  <!-- 하단 광고 (애드센스) -->
  <div class="footer-ad-container" aria-label="하단 광고 영역">
    <ins class="adsbygoogle" style="display:block"
         data-ad-client="ca-pub-4957586937754537"
         data-ad-slot="9931828353"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
  </div>

  <!-- ✅ 쿠팡 광고: flex 레이아웃에서 margin-top:auto 로 항상 화면 맨 아래 -->
  <section class="coupang-slot" aria-label="쿠팡 광고">
    <p class="sr-only">쿠팡 제휴 광고</p>
    <script src="https://ads-partners.coupang.com/g.js"></script>
    <script>
      new PartnersCoupang.G({
        id: 810614,
        trackingCode: "AF4453761",
        subId: null,
        template: "carousel",
        width: "360",
        height: "100"
      });
    </script>
  </section>

  <script type="module" src="script.js"></script>
  <script>
    document.addEventListener("contextmenu", e => e.preventDefault());

    // ✅ 상/하단 adsbygoogle 모두 안정적으로 로딩
    window.addEventListener("load", () => {
      try {
        const adSlots = document.querySelectorAll('.adsbygoogle');
        adSlots.forEach(() => {
          (adsbygoogle = window.adsbygoogle || []).push({});
        });
      } catch (e) {
        console.error("애드센스 광고 로드 실패:", e);
      }
    });
  </script>

</body>
</html>
