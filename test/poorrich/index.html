<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <title>부자 vs 거지 테스트</title>
  <meta name="description" content="성격으로 알아보는 부자 vs 거지 테스트" />
  <meta name="keywords" content="부자 테스트, 거지 테스트, 경제 성향 테스트, 시바견 테스트, 성격 테스트, 서바이벌오피스, 테스트, 심리테스트" />

  <!-- Google Adsense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4957586937754537" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-4957586937754537" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G4TPWGLYLY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-G4TPWGLYLY');
  </script>

  <!-- Open Graph -->
  <meta property="og:title" content="부자 vs 거지 테스트" />
  <meta property="og:description" content="성격으로 알아보는 부자 vs 거지 테스트" />
  <meta property="og:url" content="https://www.survivaloffice.com/test/poorrich" />
  <meta property="og:image" content="https://www.survivaloffice.com/images/poorrich.png" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="서바이벌오피스" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="부자 vs 거지 테스트" />
  <meta name="twitter:description" content="성격으로 알아보는 부자 vs 거지 테스트" />
  <meta name="twitter:image" content="https://www.survivaloffice.com/images/poorrich.png" />

  <!-- Preconnect -->
  <link rel="preconnect" href="https://api.counterapi.dev" crossorigin />
  <link rel="dns-prefetch" href="https://api.counterapi.dev" />

  <!-- (선택) 결과 이미지 프리로드 -->
  <link rel="preload" as="image" href="https://www.survivaloffice.com/images/poorrich1.png" />
  <link rel="preload" as="image" href="https://www.survivaloffice.com/images/poorrich2.png" />
  <link rel="preload" as="image" href="https://www.survivaloffice.com/images/poorrich3.png" />
  <link rel="preload" as="image" href="https://www.survivaloffice.com/images/poorrich4.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
</head>

<body oncontextmenu="return false">
  <!-- 상단 내비 -->
  <nav>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/rest/">미니게임</a></li>
      <li><a href="/test/">테스트</a></li>
      <li><a href="/work/">생존키트</a></li>
    </ul>
  </nav>

  <!-- 상단 광고 -->
  <div class="ad-container">
    <ins class="adsbygoogle"
      style="display:block; min-height: 90px;"
      data-ad-client="ca-pub-4957586937754537"
      data-ad-slot="9240598215"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
  </div>

  <div id="app">
    <!-- 1) 시작 화면 -->
    <section id="start-screen" class="screen active" aria-label="시작 화면">
      <img
        src="https://www.survivaloffice.com/images/poorrichmain.png"
        alt="부자 vs 거지 테스트 시작 이미지"
        class="background-img"
      />

      <!-- 참여자 수 -->
      <div
        id="test-counter"
        class="counter-badge"
        data-counter-namespace="survivaloffice"
        data-counter-key="poorrich"
      >
        총 0명 참여
      </div>

      <div class="start-btn-container">
        <button id="start-btn" class="primary">테스트 시작</button>
      </div>
    </section>

    <!-- 2) 질문 화면 (10문항) -->
    <section id="quiz-screen" class="screen" aria-label="질문 화면">
      <!-- 진행바 -->
      <div class="progress-wrap" aria-label="진행도">
        <div id="progress-track" role="progressbar" aria-valuemin="0" aria-valuemax="10" aria-valuenow="0">
          <div id="progress-fill"></div>
          <div id="progress-count" aria-hidden="true">0 / 10</div>
        </div>
      </div>

      <div class="question-box">
        <p id="question-text">질문이 로딩됩니다…</p>
      </div>

      <div class="choices">
        <button id="choice-a" class="choice-btn" data-type="ENTJ"></button>
        <button id="choice-b" class="choice-btn" data-type="ESTJ"></button>
        <button id="choice-c" class="choice-btn" data-type="INFP"></button>
        <button id="choice-d" class="choice-btn" data-type="ISFP"></button>
      </div>
    </section>

    <!-- 3) (팝업) 타이브레이커: 이미지 없이 모달로 동점 해소 -->
    <div id="tiebreaker-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="tb-title" hidden>
      <div class="modal__backdrop"></div>
      <div class="modal__dialog">
        <h3 id="tb-title">타이브레이커</h3>
        <p id="tb-question" class="tb-question">
          지금 당장 큰 지출 유혹이 왔다. 당신의 선택은?
        </p>
        <div id="tb-choices" class="tb-choices">
          <!-- 동점 후보 유형만 버튼으로 동적 렌더링 -->
        </div>
      </div>
    </div>

    <!-- 4) 결과 화면 (이미지 카드) -->
    <section id="result-screen" class="screen" aria-label="결과 화면">
      <img id="result-image" src="" alt="결과 이미지" loading="eager" decoding="async" />
    </section>
  </div>

  <!-- 하단 액션 -->
  <div id="bottom-actions" style="display:none;">
    <button id="share-kakao" class="secondary">공유하기</button>
    <button id="restart-btn" class="secondary">다시하기</button>
    <button id="other-test-btn" class="ghost" onclick="location.href='https://survivaloffice.com/test'">
      다른 테스트 하기
    </button>
  </div>

  <!-- 하단 광고 -->
  <div class="footer-ad-container">
    <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="ca-pub-4957586937754537"
      data-ad-slot="9931828353"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
  </div>

  <!-- 스크립트 -->
  <script type="module" src="script.js"></script>
  <script>
    document.addEventListener("contextmenu", e => e.preventDefault());
        document.addEventListener("DOMContentLoaded", () => {
            console.log("애드센스 광고 로드 실행");

            try {
                // 상단 광고만 push
                (adsbygoogle = window.adsbygoogle || []).push({});
                
                // 하단 광고는 DOM에 충분히 렌더링된 후 push
                window.addEventListener("load", () => {
                    console.log("하단 광고 로드 실행");
                    (adsbygoogle = window.adsbygoogle || []).push({});
                });
            } catch (e) {
                console.error("애드센스 광고 로드 실패:", e);
            }
        });
        </script>  

  <script src="https://ads-partners.coupang.com/g.js"></script>
  <script>
    new PartnersCoupang.G({ id: 810614, trackingCode: "AF4453761", subId: null, template: "carousel", width: "360", height: "100" });
  </script>
</body>
</html>
